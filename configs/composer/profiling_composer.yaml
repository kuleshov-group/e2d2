#file: noinspection LongLine
defaults:
  - default_composer  # Pull in composer setup defaults
  - overrides callbacks:
      - log_profiling_trace_to_wandb
#      - dataloader_speed_monitor
      - hf_compatible_checkpointing
      - lr_monitor
#      - memory_monitor
#      - optimizer_monitor
#      - runtime_estimator
      - save_best_checkpointing
      - speed_monitor
  - profiler@trainer.profiler: profiler
  - _self_

trainer:
  run_name: ${run_name}_profiling
  train_subset_num_batches: 20
  max_duration: '2ep'
  eval_interval: '0ep'  # Set to 0 to disable evaluation
  progress_bar: false
  log_to_console: true
  console_log_interval: '10ba'
